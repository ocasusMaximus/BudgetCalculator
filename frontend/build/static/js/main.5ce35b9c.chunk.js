(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{40:function(e,t,a){},48:function(e,t,a){e.exports=a(77)},53:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),l=a(21),r=a.n(l),c=(a(53),a(20)),o=a(4),i=a(5),m=a(7),u=a(6),d=a(3),p=a.n(d),h=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={amount:0},e.handleInput=function(t){e.setState({amount:t.target.value})},e.submit=function(t){t.preventDefault();var a={amount:e.state.amount};e.setState({amount:0}),p()({url:"budget/save",method:"POST",data:a,headers:{Authorization:localStorage.getItem("jwt")}}).then((function(){e.props.callbackExpenses()})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"card card-body mb-3"},s.a.createElement("label",null,"Rozpo\u010det"),s.a.createElement("form",{onSubmit:this.submit,className:"form-inline"},s.a.createElement("input",{onChange:this.handleInput,value:this.state.budget,className:"form-control mr-2",type:"number"}),s.a.createElement("button",{type:"submit",className:"btn btn-dark"},"Ode\u0161li")))}}]),a}(n.Component),b=a(18),f=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={expenses:[],expenseTitle:"",amount:0,userName:"",id:""},e.handleInput=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.reset=function(){e.setState({expenseTitle:"",amount:0,id:""})},e.submit=function(t){t.preventDefault();var a={expenseTitle:e.state.expenseTitle,amount:e.state.amount,userName:e.props.userName};e.setState({expenseTitle:"",amount:""}),p()({url:"expense/save",method:"POST",data:a,headers:{Authorization:localStorage.getItem("jwt")}}).then((function(){e.props.callbackExpenses()})).catch((function(e){console.log(e)}))},e.edit=function(t){t.preventDefault();var a={id:e.props.expenseItem._id,expenseTitle:e.state.expenseTitle,amount:e.state.amount,userName:e.props.userName};e.setState({expenseTitle:"",amount:0,id:""}),p()({url:"expense/edit",method:"POST",data:a,headers:{Authorization:localStorage.getItem("jwt")}}).then((function(){e.props.callbackExpenses()})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){e.expenseItem.expenseTitle!==this.props.expenseItem.expenseTitle&&this.setState({expenseTitle:this.props.expenseItem.expenseTitle,amount:this.props.expenseItem.amount,id:this.props.expenseItem._id})}},{key:"displayForm",value:function(){return this.state.id===this.props.expenseItem._id?s.a.createElement("form",{onSubmit:this.edit},s.a.createElement("label",null,"Polo\u017eka"),s.a.createElement("input",{onChange:this.handleInput,value:this.state.expenseTitle,className:"form-control",name:"expenseTitle",required:!0}),s.a.createElement("label",null,"V\xfddaje"),s.a.createElement("input",{onChange:this.handleInput,value:this.state.amount,className:"form-control",name:"amount",required:!0}),s.a.createElement("button",{type:"submit",className:"btn btn-dark btn-block mt-3"},"Uprav"),s.a.createElement("button",{type:"reset",onClick:this.reset,className:"btn btn-secondary btn-block mt-3"},"Reset")):s.a.createElement("form",{onSubmit:this.submit},s.a.createElement("label",null,"Polo\u017eka"),s.a.createElement("input",{onChange:this.handleInput,value:this.state.expenseTitle,className:"form-control",name:"expenseTitle",required:!0}),s.a.createElement("label",null,"V\xfddaje"),s.a.createElement("input",{onChange:this.handleInput,value:this.state.amount,className:"form-control",name:"amount",required:!0,type:"number",min:"1"}),s.a.createElement("button",{type:"submit",className:"btn btn-dark btn-block mt-3"},"Ode\u0161li"),s.a.createElement("button",{type:"reset",onClick:this.reset,className:"btn btn-secondary btn-block mt-3"},"Reset"))}},{key:"render",value:function(){return console.log("State: ",this.state),s.a.createElement("div",{className:"card card-body"},this.displayForm())}}]),a}(n.Component),g=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={color:"",amount:0},e.changeColor=function(e){return e>0?"green":"red"},e.getBudget=function(){p.a.get("/budget",{headers:{Authorization:localStorage.getItem("jwt")}}).then((function(t){var a=t.data.amount;e.setState({amount:a})})).catch((function(e){alert(e)}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.getBudget()}},{key:"componentDidUpdate",value:function(e){e!==this.state&&this.getBudget()}},{key:"componentWillUnmount",value:function(){this.setState=function(){}}},{key:"render",value:function(){var e=this.state.amount-this.props.expensesCount;return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"},"Rozpo\u010det"),s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"text-center card-title"},this.state.amount)))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"}," Celkov\xe9 V\xfddaje"),s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"text-center card-title"},this.props.expensesCount)))),s.a.createElement("div",{className:"col-lg-4"},s.a.createElement("div",{className:"card"},s.a.createElement("div",{className:"card-header"}," Celkov\xfd Z\u016fstatek"),s.a.createElement("div",{className:"card-body"},s.a.createElement("h5",{className:"text-center card-title",style:{color:this.changeColor(e)}},e)))))}}]),a}(s.a.Component),E=a(16),v=a(0),N=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={expenseTitle:"",amount:"",date:"",userName:"",expenses:[]},e.componentDidMount=function(){e.getExpense()},e.getExpense=function(){p.a.get("/expense/",{headers:{Authorization:localStorage.getItem("jwt")}}).then((function(t){var a=t.data;e.setState({expenses:a})})).catch((function(e){alert(e)}))},e.deleteItem=function(t){var a={id:t};p()({url:"/expense/delete",method:"POST",data:a,headers:{Authorization:localStorage.getItem("jwt")}}).then((function(){e.props.callbackExpenses()})).catch((function(e){alert(e)}))},e.deleteAll=function(){p()({url:"/expense/deleteAll",method:"POST",headers:{Authorization:localStorage.getItem("jwt")}}).then((function(){e.props.callbackExpenses()})).catch((function(e){alert(e)}))},e.displayExpenses=function(t){return t.length?(t.sort((function(e,t){return new Date(e.date)-new Date(t.date)})).reverse(),t.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.expenseTitle),s.a.createElement("td",null,t.amount),s.a.createElement("td",null,new Date(t.date).toLocaleString()),s.a.createElement("td",null,t.userName),(e.props.isLoggedInAsAdmin()||e.isSameUser(t.userName))&&s.a.createElement(v.b.Provider,{value:{className:"delete-buttons"}},s.a.createElement("td",{className:"text-center"},s.a.createElement("button",{className:"btn btn-link","aria-label":"delete button",onClick:function(){return e.deleteItem(t._id)}},s.a.createElement(E.a,{className:"btn-icon"})))),(e.props.isLoggedInAsAdmin()||e.isSameUser(t.userName))&&s.a.createElement(v.b.Provider,{value:{className:"edit-buttons"}},s.a.createElement("td",{className:"text-center"},s.a.createElement("button",{className:"btn btn-link ","aria-label":"edit button",onClick:function(){return e.editItem(t)}},s.a.createElement(E.b,{className:"btn-icon"})))))}))):null},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){e.expenses!==this.state.expenses&&this.getExpense()}},{key:"componentWillUnmount",value:function(){this.setState=function(){}}},{key:"editItem",value:function(e){this.props.editExpense(e)}},{key:"isSameUser",value:function(e){return e===this.props.userName}},{key:"displayDAButton",value:function(e){var t=this;return e.length?s.a.createElement("div",{className:"text-center"},s.a.createElement(v.b.Provider,{value:{className:"delete-button-all"}},s.a.createElement("button",{className:"btn btn-danger m-3","aria-label":"delete button",onClick:function(){return t.deleteAll()}},s.a.createElement(E.a,{className:"btn-icon"})," Smazat V\u0161e"))):null}},{key:"render",value:function(){return s.a.createElement("div",{className:"card mt-5"},s.a.createElement("table",{className:"table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Polo\u017eka"),s.a.createElement("th",null,"V\xfddaje"),s.a.createElement("th",null,"Datum"),s.a.createElement("th",null,"P\u0159idal"),s.a.createElement("th",null,"Odebrat"),s.a.createElement("th",null,"Upravit"))),s.a.createElement("tbody",null,this.displayExpenses(this.state.expenses))),this.props.isLoggedInAsAdmin()&&this.displayDAButton(this.state.expenses))}}]),a}(n.Component),y=function(e){return s.a.createElement("div",{className:"card card-body"},s.a.createElement("h3",{className:"text-center"},"Informace o rozpo\u010dtu"),s.a.createElement(g,{expensesCount:e.expensesCount}),s.a.createElement(N,{isLoggedInAsAdmin:e.isLoggedInAsAdmin,userName:e.userName,editExpense:e.editExpense,callbackExpenses:e.callbackExpenses}))},k=function(e){var t=s.a.useState(0),a=Object(c.a)(t,2),n=a[0],l=a[1],r=s.a.useState(""),o=Object(c.a)(r,2),i=o[0],m=o[1],u=function(){d()};s.a.useEffect((function(){d()}),[]);var d=function(){p.a.get("/expense/count",{headers:{Authorization:localStorage.getItem("jwt")}}).then((function(e){var t=e.data;l(t)})).catch((function(e){alert(e)}))};return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col-lg-4"},e.isLoggedInAsAdmin()&&s.a.createElement(h,{callbackExpenses:u}),s.a.createElement(f,{userName:e.userName,callbackExpenses:u,expenseItem:i})),s.a.createElement("div",{className:"col-lg-8"},s.a.createElement(y,{isLoggedInAsAdmin:e.isLoggedInAsAdmin,userName:e.userName,expensesCount:n,editExpense:function(e){m(e)},callbackExpenses:u})))},w=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={notes:[],noteTitle:"",noteUserName:"",description:"",id:""},e.handleInput=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.reset=function(){e.setState({noteTitle:"",noteUserName:"",description:"",id:""})},e.submit=function(t){t.preventDefault();var a={noteTitle:e.state.noteTitle,noteUserName:e.props.userName,description:e.state.description};console.log(a),e.setState({noteTitle:"",description:"",id:""}),p()({url:"note/save",method:"POST",data:a,headers:{Authorization:localStorage.getItem("jwt")}}).then((function(){})).catch((function(e){console.log(e)}))},e.edit=function(t){t.preventDefault();var a={id:e.props.noteItem._id,noteTitle:e.state.noteTitle,noteUserName:e.props.userName,description:e.state.description};e.setState({noteTitle:"",description:"",id:""}),p()({url:"note/edit",method:"POST",data:a,headers:{Authorization:localStorage.getItem("jwt")}}).then((function(){})).catch((function(e){console.log(e)}))},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){e.noteItem!==this.props.noteItem&&this.setState({noteTitle:this.props.noteItem.noteTitle,description:this.props.noteItem.description,id:this.props.noteItem._id})}},{key:"displayForm",value:function(){return this.state.id===this.props.noteItem._id?s.a.createElement("form",{onSubmit:this.edit},s.a.createElement("label",null,"N\xe1zev"),s.a.createElement("input",{onChange:this.handleInput,value:this.state.noteTitle,className:"form-control",name:"noteTitle",required:!0}),s.a.createElement("label",null,"Popis"),s.a.createElement("input",{onChange:this.handleInput,value:this.state.description,className:"form-control",name:"description",required:!0}),s.a.createElement("button",{type:"submit",className:"btn btn-dark btn-block mt-3"},"Uprav"),s.a.createElement("button",{type:"reset",onClick:this.reset,className:"btn btn-secondary btn-block mt-3"},"Reset")):s.a.createElement("form",{onSubmit:this.submit},s.a.createElement("label",null,"N\xe1zev"),s.a.createElement("input",{onChange:this.handleInput,value:this.state.noteTitle,className:"form-control",name:"noteTitle",required:!0}),s.a.createElement("label",null,"Popis"),s.a.createElement("textarea",{onChange:this.handleInput,value:this.state.description,className:"form-control",name:"description",required:!0}),s.a.createElement("button",{type:"submit",className:"btn btn-dark btn-block mt-3"},"Ode\u0161li"),s.a.createElement("button",{type:"reset",onClick:this.reset,className:"btn btn-secondary btn-block mt-3"},"Reset"))}},{key:"render",value:function(){return s.a.createElement("div",{className:"card card-body"},this.displayForm())}}]),a}(n.Component),x=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={noteTitle:"",description:"",createdAt:"",notes:[]},e.componentDidMount=function(){e.getNotes()},e.getNotes=function(){p.a.get("/note/",{headers:{Authorization:localStorage.getItem("jwt")}}).then((function(t){var a=t.data;e.setState({notes:a})})).catch((function(e){alert(e)}))},e.deleteItem=function(e){console.log("id: "+e);var t={id:e};p()({url:"/note/delete",method:"POST",data:t,headers:{Authorization:localStorage.getItem("jwt")}}).catch((function(e){console.log(e)}))},e.deleteAll=function(){p()({url:"/note/deleteAll",method:"POST",headers:{Authorization:localStorage.getItem("jwt")}}).catch((function(e){console.log(e)}))},e.displayNotes=function(t){if(null!==t.length)return t.sort((function(e,t){return new Date(e.date)-new Date(t.date)})).reverse(),t.map((function(t,a){return s.a.createElement("div",{className:"card mt-5",key:a},s.a.createElement("div",{className:"card-body"},s.a.createElement("h4",{className:"card-title"},t.noteTitle),s.a.createElement("div",{className:"card-text mb-2"},"P\u0159id\xe1no u\u017eivatelem: ",t.noteUserName),s.a.createElement("div",{className:"card-text mb-2"},new Date(t.date).toLocaleString()),s.a.createElement("div",{className:"card-text mb-2"},t.description),(e.props.isLoggedInAsAdmin()||e.isSameUser(t.noteUserName))&&s.a.createElement("button",{className:"btn btn-success","aria-label":"edit button",onClick:function(){return e.editItem(t)}},s.a.createElement(E.b,null)," Upravit"),(e.props.isLoggedInAsAdmin()||e.isSameUser(t.noteUserName))&&s.a.createElement("button",{className:"btn btn-danger m-3","aria-label":"delete button",onClick:function(){return e.deleteItem(t._id)}},s.a.createElement(E.a,null)," Smazat")))}))},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){e.notes!==this.state.notes&&this.getNotes()}},{key:"componentWillUnmount",value:function(){this.setState=function(){}}},{key:"editItem",value:function(e){this.props.editNotes(e)}},{key:"isSameUser",value:function(e){return e===this.props.userName}},{key:"displayDAButton",value:function(e){var t=this;if(e.length)return s.a.createElement("div",{className:"text-center"},s.a.createElement(v.b.Provider,{value:{className:"delete-button-all"}},s.a.createElement("button",{className:"btn btn-danger m-3","aria-label":"delete button",onClick:function(){return t.deleteAll()}},s.a.createElement(E.a,{className:"btn-icon"})," Smazat V\u0161e")))}},{key:"render",value:function(){return s.a.createElement("div",null,this.displayNotes(this.state.notes),s.a.createElement("div",null,this.props.isLoggedInAsAdmin()&&this.displayDAButton(this.state.notes)))}}]),a}(n.Component),j=function(e){return s.a.createElement("div",{className:"card card-body mb-3"},s.a.createElement(w,{noteItem:e.noteItem,userName:e.userName}),s.a.createElement(x,{isLoggedInAsAdmin:e.isLoggedInAsAdmin,userName:e.userName,editNotes:e.editNotes}))},S=function(e){var t=s.a.useState(""),a=Object(c.a)(t,2),n=a[0],l=a[1];return s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"card card-body mb-3"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("h3",null,"Pozn\xe1mky"))),s.a.createElement(j,{isLoggedInAsAdmin:e.isLoggedInAsAdmin,userName:e.userName,editNotes:function(e){l(e)},noteItem:n}))))},I=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,l=new Array(n),r=0;r<n;r++)l[r]=arguments[r];return(e=t.call.apply(t,[this].concat(l))).state={name:"",email:"",password:"",role:"",users:[]},e.componentDidMount=function(){e.getUsers()},e.getUsers=function(){p.a.get("/users/",{headers:{Authorization:localStorage.getItem("jwt")}}).then((function(t){var a=t.data;e.setState({users:a})})).catch((function(e){alert(e)}))},e.deleteItem=function(e){var t={id:e};p()({url:"/users/delete",method:"POST",data:t,headers:{Authorization:localStorage.getItem("jwt")}}).then((function(){})).catch((function(e){alert(e)}))},e.deleteAll=function(){p()({url:"/users/deleteAll",method:"POST",headers:{Authorization:localStorage.getItem("jwt")}}).then((function(){})).catch((function(e){alert(e)}))},e.displayExpenses=function(t){return t.length?t.map((function(t,a){return s.a.createElement("tr",{key:a},s.a.createElement("td",null,t.name),s.a.createElement("td",null,t.email),s.a.createElement("td",null,t.password),s.a.createElement("td",null,t.role),s.a.createElement(v.b.Provider,{value:{className:"delete-buttons"}},s.a.createElement("td",{className:"text-center"},s.a.createElement("button",{className:"btn btn-link","aria-label":"delete button",onClick:function(){return e.deleteItem(t._id)}},s.a.createElement(E.a,{className:"btn-icon"})))))})):null},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){e.expenses!==this.state.expenses&&this.getExpense()}},{key:"componentWillUnmount",value:function(){this.setState=function(){}}},{key:"isSameUser",value:function(e){return e===this.props.userName}},{key:"displayDAButton",value:function(e){var t=this;return e.length?s.a.createElement("div",{className:"text-center"},s.a.createElement(v.b.Provider,{value:{className:"delete-button-all"}},s.a.createElement("button",{className:"btn btn-danger m-3","aria-label":"delete button",onClick:function(){return t.deleteAll()}},s.a.createElement(E.a,{className:"btn-icon"})," Smazat V\u0161e"))):null}},{key:"render",value:function(){return s.a.createElement("div",{className:"card mt-5"},s.a.createElement("table",{className:"table-bordered"},s.a.createElement("thead",null,s.a.createElement("tr",null,s.a.createElement("th",null,"Jm\xe9no"),s.a.createElement("th",null,"Email"),s.a.createElement("th",null,"Heslo"),s.a.createElement("th",null,"Role"))),s.a.createElement("tbody",null,this.displayExpenses(this.state.users))),this.displayDAButton(this.state.users))}}]),a}(n.Component),A=(a(40),function(e){return s.a.createElement("div",{id:"main"},s.a.createElement("div",{className:"container my-5"},s.a.createElement(k,{userName:e.userName,isLoggedInAsAdmin:e.isLoggedInAsAdmin})),e.isLoggedInAsAdmin()&&s.a.createElement("div",{className:"container my-5"},s.a.createElement(I,{userName:e.userName})),s.a.createElement("div",{className:"container my-5"},s.a.createElement(S,{userName:e.userName,isLoggedInAsAdmin:e.isLoggedInAsAdmin})))}),O=a(19),C=a(8),T=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={userName:""},e.logout=function(t){t.preventDefault(),e.setState({userName:""}),null!==localStorage.getItem("jwt")&&localStorage.removeItem("jwt"),e.props.callbackMessage("U\u017eivatel \xfasp\u011b\u0161n\u011b odhl\xe1\u0161en!"),e.props.history.push("/login")},e}return Object(i.a)(a,[{key:"componentDidUpdate",value:function(e){e.userName!==this.props.userName&&this.setState({userName:this.props.userName})}},{key:"componentDidMount",value:function(){this.props.callbackUsername()}},{key:"render",value:function(){return s.a.createElement("div",{className:"navbar navbar-light bg-dark justify-content-between"},s.a.createElement("div",{className:"container"},s.a.createElement("img",{src:"money-pig.png",alt:"Money pig",width:"35",height:"40"}),s.a.createElement("h2",{className:"text-white"},"Pomocn\xedk v dom\xe1cnosti")),s.a.createElement("div",{className:"container "},s.a.createElement("a",{className:"nav-link",href:"/"},s.a.createElement("i",{className:"fas fa-user-ninja fa-fw mr-1"}),this.state.userName),s.a.createElement("a",{className:"nav-link",href:"/"},s.a.createElement("i",{className:"fa fa-home fa-fw mr-1"}),"Doma"),s.a.createElement(O.b,{to:"/login",className:"nav-link",onClick:this.logout},s.a.createElement("i",{className:"fas fa-sign-out-alt fa-fw mr-1"}),"Odhl\xe1sit")))}}]),a}(n.Component),U=Object(C.g)(T),D={color:"white",fontSize:"20px"},P={marginTop:"5px",marginBottom:"5px"},M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("footer",null,s.a.createElement("div",{className:"jumbotron jumbotron-fluid bg-secondary p-4 mt-5 mb-2"},s.a.createElement("div",{className:"container"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"col"},s.a.createElement("div",{className:"card bg-secondary border-0"},s.a.createElement("div",{className:"card-body text-light text-center"},s.a.createElement("h2",{className:"card-title text-white display-6"},"Jan Zahradn\xedk")))))),s.a.createElement("div",{className:"container text-center",style:P},s.a.createElement("a",{className:"fb-ic",href:"https://www.youtube.com/watch?v=d1YBv2mWll0",style:D},s.a.createElement("i",{className:"fab fa-facebook-f fa-lg white-text mr-md-5 mr-3 fa-2x"}," ")),s.a.createElement("a",{className:"tw-ic",href:"https://www.youtube.com/watch?v=d1YBv2mWll0",style:D},s.a.createElement("i",{className:"fab fa-twitter fa-lg white-text mr-md-5 mr-3 fa-2x"}," ")),s.a.createElement("a",{className:"gh-ic",href:"https://github.com/ocasusMaximus/BudgetCalculator",style:D},s.a.createElement("i",{className:"fab fa-github fa-lg white-text mr-md-5 mr-3 fa-2x"}," ")),s.a.createElement("a",{className:"li-ic",href:"https://www.youtube.com/watch?v=d1YBv2mWll0",style:D},s.a.createElement("i",{className:"fab fa-linkedin-in fa-lg white-text mr-md-5 mr-3 fa-2x"}," ")),s.a.createElement("a",{className:"ins-ic",href:"https://www.youtube.com/watch?v=d1YBv2mWll0",style:D},s.a.createElement("i",{className:"fab fa-instagram fa-lg white-text mr-md-5 mr-3 fa-2x"}," "))),s.a.createElement("div",{className:"container text-center",style:P},s.a.createElement("p",{className:" text-light d-inline lead"},"Studentsk\xfd projekt UHK FIM ZS 2020"))))}}]),a}(n.Component),z=a(94),L=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={email:"",password:"",successfullMessage:"",errorMessage:""},e.handleInput=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.submit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};p()({url:"users/login",method:"POST",data:a}).then((function(t){console.log(t),localStorage.setItem("jwt",t.data.token),e.props.callbackUsername(),e.props.history.push("/")})).catch((function(t){console.log(t.response.data.msg),e.setState({errorMessage:t.response.data.msg})}))},e}return Object(i.a)(a,[{key:"componentDidMount",value:function(){this.setState({successfullMessage:this.props.message})}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row mt-5"},s.a.createElement("div",{className:"col-md-6 m-auto"},s.a.createElement("div",{className:"card card-body"},s.a.createElement("h1",{className:"text-center mb-3"},s.a.createElement("i",{className:"fas fa-sign-in-alt"})," P\u0159ihl\xe1\u0161en\xed"),this.state.errorMessage&&s.a.createElement(z.a,{severity:"error",onClose:function(){e.setState({errorMessage:""})}},this.state.errorMessage),this.state.successfullMessage&&s.a.createElement(z.a,{severity:"success",onClose:function(){e.setState({successfullMessage:""})}},this.state.successfullMessage),s.a.createElement("form",{onSubmit:this.submit,method:"POST"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"email",onChange:this.handleInput,value:this.state.email,name:"email",autoComplete:"email",className:"form-control",placeholder:"Zadejte email"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Heslo"),s.a.createElement("input",{value:this.state.password,onChange:this.handleInput,type:"password",name:"password",autoComplete:"current-password",className:"form-control",placeholder:"Zadejte heslo"})),s.a.createElement("button",{type:"submit",className:"btn btn-success btn-block"},"Login")),s.a.createElement("p",{className:"lead mt-4"}," Nem\xe1te je\u0161t\u011b \xfa\u010det ",s.a.createElement(O.b,{to:"/register"},"Registrace")))))}}]),a}(n.Component),B=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return(e=t.call.apply(t,[this].concat(s))).state={name:"",email:"",password:"",errorMessage:""},e.handleInput=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.submit=function(t){if(t.preventDefault(),e.state.name&&e.state.email&&e.state.password&&!(e.state.password.length<6)){var a={name:e.state.name,email:e.state.email,password:e.state.password};p()({url:"users/register",method:"POST",data:a}).then((function(){e.props.callbackMessage("U\u017eivatel \xfasp\u011b\u0161n\u011b zaregistrov\xe1n!"),e.props.history.push("/login")})).catch((function(t){e.setState({errorMessage:t.response.data.msg})}))}},e}return Object(i.a)(a,[{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"row mt-5"},s.a.createElement("div",{className:"col-md-6 m-auto"},s.a.createElement("div",{className:"card card-body"},s.a.createElement("h1",{className:"text-center mb-3"},s.a.createElement("i",{className:"fas fa-user-plus"})," Registrace"),this.state.errorMessage&&s.a.createElement(z.a,{severity:"error",onClose:function(){e.setState({errorMessage:""})}},this.state.errorMessage),(!this.state.name||!this.state.email||!this.state.password)&&s.a.createElement(z.a,{severity:"warning"},"Pros\xedm vypl\u0148te v\u0161echny \xfadaje!"),this.state.password&&this.state.password.length<6&&s.a.createElement(z.a,{severity:"warning"},"Heslo je p\u0159\xedli\u0161 kr\xe1tk\xe9! Mus\xed obsahovat alespo\u0148 6 znak\u016f!"),s.a.createElement("form",{onSubmit:this.submit,method:"POST"},s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"name"},"Jm\xe9no"),s.a.createElement("input",{type:"name",name:"name",onChange:this.handleInput,className:"form-control",placeholder:"Zadejte jm\xe9no",value:this.state.name})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"email"},"Email"),s.a.createElement("input",{type:"email",value:this.state.email,onChange:this.handleInput,name:"email",className:"form-control",placeholder:"Zadejte email"})),s.a.createElement("div",{className:"form-group"},s.a.createElement("label",{htmlFor:"password"},"Heslo"),s.a.createElement("input",{type:"password",id:"password",name:"password",className:"form-control",placeholder:"Vytvo\u0159te heslo",value:this.state.password,onChange:this.handleInput})),s.a.createElement("button",{type:"submit",className:"btn btn-success btn-block"},"Registrovat")),s.a.createElement("p",{className:"lead mt-4"},"M\xe1te ji\u017e \xfa\u010det? ",s.a.createElement(O.b,{to:"/login"}," P\u0159ihl\xe1\u0161en\xed")))))}}]),a}(n.Component),W=a(45),F=function(){var e=s.a.useState(""),t=Object(c.a)(e,2),a=t[0],n=t[1],l=s.a.useState(""),r=Object(c.a)(l,2),o=r[0],i=r[1],m=function(){var e=localStorage.getItem("jwt");if(null!==e){var t=d(e);n(t.name)}},u=function(e){i(e)},d=function(e){var t=e.split(" ");return Object(W.a)(t[1]).user},p=function(){var e=localStorage.getItem("jwt");return"admin"===d(e).role};return s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"Wrapper"},s.a.createElement(O.a,null,s.a.createElement(U,{userName:a,callbackUsername:m,callbackMessage:u}),s.a.createElement(C.d,null,s.a.createElement(C.b,{path:"/login",render:function(e){return s.a.createElement(L,Object.assign({},e,{callbackUsername:m,message:o}))}}),s.a.createElement(C.b,{path:"/register",render:function(e){return s.a.createElement(B,Object.assign({},e,{callbackMessage:u}))}}),s.a.createElement(C.b,{exact:!0,path:"/",render:function(e){return null!=localStorage.getItem("jwt")?s.a.createElement(A,Object.assign({},e,{userName:a,isLoggedInAsAdmin:p})):s.a.createElement(C.a,{to:"/login"})}})))),s.a.createElement(M,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(s.a.createElement(F,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.5ce35b9c.chunk.js.map